(self["webpackChunkjntua_aesult_analyser"]=self["webpackChunkjntua_aesult_analyser"]||[]).push([[670],{6199:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Re});a(9544);var t=a(3673),s=a(8880),o=a(2323),n=a(1959),i=a(7829),u=a.n(i),r=a(8813),d=a.n(r),c=a(6823),m=a.n(c),p=a(8825),v=a(9582),h=a(3640),g=a(2585),f=a.n(g),b=a(52),w=a.n(b),x=a(4830),y=a.n(x),_=a(5636),k=a.n(_),S=a(5278),U=a(9296),q=a(2704),W=a(3649),C=a(4589),A=a.n(C),H=a(5112),z=a.n(H);const Z=e=>((0,t.dD)("data-v-5196c1c3"),e=e(),(0,t.Cn)(),e),V={class:"container"},j={key:0,style:{position:"fixed",width:"100vw",height:"100vh",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"2","backdrop-filter":"blur(2.5px)",cursor:"pointer"}},Q=Z((()=>(0,t._)("div",{class:"absolute-bottom-right text-subtitle2 flex flex-center"}," This takes around 10 second...ðŸ™‹â€â™€ï¸ ",-1))),T={class:"wrapper"},I=(0,t.Uk)("Example: 19fh1a05"),D={class:"q-pa-md"},G={class:"text-h5"},P={class:"text-h5"},R={class:"flex flex-center"},F={class:"flex flex-center"},B={class:"flex justify-center"},E=(0,t.Uk)(" Submit "),N=(0,t.Uk)("Fetching... "),$={key:0,class:"data-container"},L={class:"result-input"},O={class:"flex flex-center q-px-sm"},X={class:"col"},K={class:"text-center",style:{"font-size":"1.3em","font-weight":"4000"}},M=(0,t.Uk)(" Toppers ðŸ˜’ "),Y=Z((()=>(0,t._)("i",{class:"fas fa-crown",style:{color:"gold"}},null,-1))),J=Z((()=>(0,t._)("br",null,null,-1))),ee=Z((()=>(0,t._)("i",{class:"fas fa-crown",style:{color:"silver"}},null,-1))),le=Z((()=>(0,t._)("br",null,null,-1))),ae=Z((()=>(0,t._)("i",{class:"fas fa-crown",style:{color:"brown"}},null,-1))),te={class:"roll-input"},se={class:"col"},oe=(0,t.Uk)(" Passed: "),ne={class:"col"},ie=(0,t.Uk)(" Failed: "),ue={class:"col"},re=(0,t.Uk)(" Pass %: "),de={style:{display:"flex","justify-content":"center"}},ce=Z((()=>(0,t._)("img",{width:"50px",src:d()},null,-1))),me={class:"flex justify-end items-center"},pe={class:"q-px-sm"},ve=Z((()=>(0,t._)("div",{class:"text-h5 text-center"},[(0,t._)("i",{class:"fas fa-download"}),(0,t.Uk)(" Download XL sheet ")],-1))),he={class:"row q-mt-lg flex flex-center"},ge={key:1,class:"data-container flex flex-center text-h4 text-center text-grey q-mb-xl"},fe=(0,t.Uk)("Looks so empty here "),be={setup(e){const l=(0,n.iH)(!1),a=(0,n.iH)(1300),i=(0,n.iH)("19fh1a05"),r=(0,n.iH)(!1),d=(0,n.iH)("sgpa"),c=(0,n.iH)({min:1,max:65}),g=(0,n.iH)(["19fh1a0546"]),b=(0,n.iH)({chart:{type:"line",stacked:!1,toolbar:{show:!1},zoom:{enabled:!1},events:{selection:function(e,l){console.log(l)}}},title:{text:"Students by SGPA",align:"left"},xaxis:{axisTicks:{show:!1},labels:{show:!0,rotate:-75,rotateAlways:!1,hideOverlappingLabels:!0,showDuplicates:!1,trim:!1,minHeight:void 0,maxHeight:120,style:{colors:[],fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-xaxis-label"}}},yaxis:{min:0,max:10}}),x=(0,n.iH)(b.value),_=(0,n.iH)(null),C=(0,n.iH)([{name:"Grade Point",data:[]}]),H=(0,n.iH)([]),Z=(0,n.iH)({}),be=(0,n.iH)([]),we=(0,n.iH)([]),xe=(0,n.iH)(""),ye=(0,n.iH)({reg:"",course:"",year:"",sem:""}),_e=(0,n.iH)(null),ke=(0,n.iH)(0),Se=(0,t.Fl)((()=>(ke.value/be.value.length*100).toFixed(2))),Ue=(0,p.Z)(),qe=(0,v.yj)();(0,t.m0)((()=>{b.value={...b.value,theme:{mode:Ue.dark.isActive?"dark":"light"}}})),(0,t.bv)((()=>{Ve()}));const We=(0,t.Fl)((()=>a.value.toFixed())),Ce=e=>A()[e].toUpperCase(),Ae=()=>{l.value=!0},He=e=>{g.value.splice(e,1),l.value=!0},ze=()=>{g.value.push(g.value[0].slice(0,-2)),setTimeout((()=>{_e.value.slice(-1)[0].focus()})),console.log("added new roll"),l.value=!1},Ze=e=>10!=e.length?(Ue.notify({color:"negative",message:"Roll no length should be 10"}),l.value=!1,"Roll no length should be 10"):(l.value=!0,!0),Ve=()=>{Object.keys(qe.query).includes("reg")&&(ye.value=qe.query,i.value=ye.value.roll,c.value.min=ye.value.min,c.value.max=ye.value.max,resultID.value=qe.query.resultID,c.value.rollPrefix=qe.query.prefix,c.value.min=qe.query.min,c.value.max=qe.query.max,this.submit())},je=()=>{navigator.share?navigator.share({title:"Hey I saw our entire batch result on this cool webApp!",url:window.location.origin+window.location.pathname+"#/batch-result?reg="+ye.value.reg+"&course="+ye.value.course+"&sem="+ye.value.sem+"&year="+ye.value.year+"&roll="+i.value+"&min="+c.value.min+"&max="+c.value.max}).then((()=>{Qe(),console.log("Thanks for sharing!"),Ue.notify({type:"positive",message:"Thanks for sharing this page! ðŸ˜€ðŸ˜"})})).catch(console.error):console.log("couldnt share")},Qe=()=>{w().post(k().share,{type:"batch",htns:[i.value+Ce(c.value.min),i.value+Ce(c.value.max)],resultID:resultID.value})},Te=()=>{let e=be.value.map((e=>({name:e.name,htn:e.htn,bestAttempt:(0,W.getBestAttempts)(e.attempts)})));const l=(0,W.getBestAttempts)(be.value[0].attempts).findIndex((e=>e["1"]===xe.value.value));e.sort(((e,a)=>z()[a.bestAttempt[l].Grade.toUpperCase()]-z()[e.bestAttempt[l].Grade.toUpperCase()]));let a=1;const t=[],s=[];for(let o=0;o<e.length;o++)t.push(`${e[o]["name"]}(${e[o]["htn"].slice(-2)}) #${z()[e[o].bestAttempt[l].Grade.toUpperCase()]>0?a:"na"}`),s.push(z()[e[o].bestAttempt[l].Grade.toUpperCase()]),e[o+1]&&z()[e[o].bestAttempt[l].Grade.toUpperCase()]!=z()[e[o+1].bestAttempt[l].Grade.toUpperCase()]&&a++;x.value={...b.value,xaxis:{axisTicks:{show:!1},labels:{show:!0,rotate:-75,rotateAlways:!1,hideOverlappingLabels:!0,showDuplicates:!1,trim:!1,minHeight:void 0,maxHeight:120,style:{colors:[],fontSize:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-xaxis-label"}},categories:t}},H.value=[{name:"Grade Point",data:s}]},Ie=()=>{(0,h.B)("search",{method:"batch",roll:i.value+":"+c.value.min+"-"+c.value.max}),r.value=!0;var e=[],l=[];w().get(k().batchResultsv2+"/"+i.value+"/"+c.value.min+"/"+c.value.max+"/"+ye.value.reg+"/"+ye.value.course+"/"+ye.value.year+"/"+ye.value.sem).then((a=>{r.value=!1,console.log(a),we.value=[],(0,W.getBestAttempts)(a.data[0].attempts).forEach((e=>{we.value.push({value:e["1"],label:e["Subject Name"]})})),xe.value=we.value[0],a.data.sort(((e,l)=>l.sgpa-e.sgpa)),be.value=a.data;let t=1;ke.value=0;for(let s=0;s<be.value.length;s++)be.value[s].sgpa>0&&ke.value++,e.push(`${be.value[s]["name"]} (${be.value[s]["htn"].slice(-2)}) #${be.value[s].sgpa>0?t:"na"}`),l.push(be.value[s].sgpa),be.value[s+1]&&be.value[s].sgpa!=be.value[s+1].sgpa&&t++})).then((()=>{setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight-1500)}),300)})).finally((()=>{b.value.xaxis.categories=e,C.value=[{name:"SGPA",data:l}],console.log(b.value),console.log(C.value),Z.value={labels:e,datasets:[{data:l,backgroundColor:"#ff4d0155",borderColor:"#ff4d01"}]},Te()})),console.log(Z.value)},De=e=>{const l=be.value;l.sort(((e,l)=>e.htn.slice(-2)-l.htn.slice(-2))),l.forEach((e=>{const l=(0,W.getBestAttempts)(e.attempts);l.forEach((l=>{e["cred-"+l["Subject Name"]]=l["Credits"],e["grade-"+l["Subject Name"]]=l["Grade"],e["status-"+l["Subject Name"]]=l["Result Status"],e["passingMonth-"+l["Subject Name"]]=l["month"],delete e.attempts,delete e.collegeCode,delete e.lastViewed,delete e.reg,delete e.course,delete e.year,delete e.sem,delete e.viewCount,delete e._id,delete e.__v}))}));const a={Registered:l.length,attended:l.filter((e=>0!=e.sgpa)).length,absent:l.filter((e=>0==e.sgpa)).length,passed:l.filter((e=>e.sgpa>0)).length,failed:l.filter((e=>-1==e.sgpa)).length,sgpa:l.reduce(((e,l)=>e+l.sgpa),0)/l.filter((e=>e.sgpa>0)).length,passPercentage:l.filter((e=>e.sgpa>0)).length/l.filter((e=>0!=e.sgpa)).length*100,failPercentage:l.filter((e=>-1==e.sgpa)).length/l.filter((e=>0!=e.sgpa)).length*100},t=ye.value.reg+"-"+ye.value.course+"-"+ye.value.year+"-"+ye.value.sem+"-"+i.value+c.value.min+"-"+i.value+c.value.max+"-sgpa.xlsx",s={SheetNames:["Students","overall"],Sheets:{}};console.log(l,a),s.Sheets["Students"]=y().utils.json_to_sheet(l),s.Sheets["overall"]=y().utils.json_to_sheet([a]),y().writeFile(s,t)};return(e,p)=>{const v=(0,t.up)("q-img"),h=(0,t.up)("q-input"),w=(0,t.up)("q-range"),y=(0,t.up)("q-badge"),k=(0,t.up)("q-btn"),W=(0,t.up)("q-card-section"),A=(0,t.up)("q-card"),z=(0,t.up)("q-expansion-item"),qe=(0,t.up)("q-spinner-gears"),Ve=(0,t.up)("q-separator"),Qe=(0,t.up)("q-tab"),Ge=(0,t.up)("q-tabs"),Pe=(0,t.up)("q-scroll-area"),Re=(0,t.up)("q-tab-panel"),Fe=(0,t.up)("q-select"),Be=(0,t.up)("q-tab-panels"),Ee=(0,t.up)("q-intersection");return(0,t.wg)(),(0,t.iD)("div",V,[r.value?((0,t.wg)(),(0,t.iD)("div",j,[(0,t.Wm)(s.uT,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{class:"loading-img",src:u()},{default:(0,t.w5)((()=>[Q])),_:1})])),_:1})])):(0,t.kq)("",!0),(0,t._)("div",T,[(0,t.Wm)(U.Z,{class:"result-input",modelValue:ye.value,"onUpdate:modelValue":p[0]||(p[0]=e=>ye.value=e),onSuccess:Ae},null,8,["modelValue"]),(0,t._)("div",{class:(0,o.C_)(["roll-input flex column rounded q-pa-md",(0,n.SU)(Ue).dark.isActive?"bg-dark":"bg-white"])},[(0,t.Wm)(h,{class:"q-mb-md",filled:"",modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=e=>i.value=e),"bottom-slots":"",rules:[e=>8==e.length||"Enter first 8 charaters of your full roll no."],label:"Roll no prefix",clearable:""},{hint:(0,t.w5)((()=>[I])),_:1},8,["modelValue","rules"]),(0,t._)("div",D,[(0,t.Wm)(w,{modelValue:c.value,"onUpdate:modelValue":p[2]||(p[2]=e=>c.value=e),min:1,max:350,"drag-range":""},null,8,["modelValue"]),(0,t.Wm)(y,{color:"secondary",class:"q-mb-lg text-subtitle2"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Selected : "+(0,o.zw)(i.value)+" ",1),(0,t._)("span",G,(0,o.zw)(Ce(c.value.min)),1),(0,t.Uk)(" - "+(0,o.zw)(i.value)+" ",1),(0,t._)("span",P,(0,o.zw)(Ce(c.value.max)),1)])),_:1})]),(0,t.Wm)(z,{"expand-separator":"","expand-icon-toggle":"",class:"q-ma-md",icon:"add",label:"Extra Rolls"},{default:(0,t.w5)((()=>[(0,t.Wm)(A,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.value,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("div",R,[(0,t.Wm)(h,{filled:"",ref_for:!0,ref_key:"rollInput",ref:_e,label:"Roll Number",color:(0,n.SU)(Ue).dark.isActive?"white":"primary",rules:[e=>Ze(e)],modelValue:g.value[l],"onUpdate:modelValue":e=>g.value[l]=e},{append:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(k,{round:"",dense:"",flat:"",icon:"remove_circle",color:"negative",onClick:e=>He(l)},null,8,["onClick"]),[[s.F8,g.value.length>1]])])),_:2},1032,["color","rules","modelValue","onUpdate:modelValue"])])])))),128)),(0,t._)("div",F,[(0,t.Wm)(k,{icon:"add",round:"",class:"q-mt-sm",color:"primary",size:"md",onClick:ze})])])),_:1})])),_:1})])),_:1}),(0,t._)("div",B,[(0,t.Wm)(k,{style:{width:"150px"},color:"primary",loading:r.value,disable:!(l.value&&8==i.value.length),onClick:p[3]||(p[3]=e=>Ie())},{loading:(0,t.w5)((()=>[(0,t.Wm)(qe,{class:"on-left"}),N])),default:(0,t.w5)((()=>[E])),_:1},8,["loading","disable"])])],2),Object.keys(Z.value).length>0?((0,t.wg)(),(0,t.iD)("div",$,[(0,t._)("div",L,[(0,t.Wm)(A,{class:"sgpa-container q-pa-md rounded glass",flat:""},{default:(0,t.w5)((()=>[(0,t._)("div",O,[(0,t._)("div",X,[(0,t._)("div",K,[M,(0,t.Wm)(Ve,{class:"q-my-md",spaced:"true"}),Y,(0,t.Uk)(" "+(0,o.zw)(Z.value.labels[0].slice(0,-7))+"( "+(0,o.zw)(Z.value.datasets[0].data[0])+" ) ",1),J,ee,(0,t.Uk)(" "+(0,o.zw)(Z.value.labels[1].slice(0,-7))+"( "+(0,o.zw)(Z.value.datasets[0].data[1])+" ) ",1),le,ae,(0,t.Uk)(" "+(0,o.zw)(Z.value.labels[2].slice(0,-7))+"( "+(0,o.zw)(Z.value.datasets[0].data[2])+" ) ",1)])])])])),_:1})]),(0,t._)("div",te,[(0,t.Wm)(A,{class:"row q-ma-md q-py-md rounded glass text-center",flat:""},{default:(0,t.w5)((()=>[(0,t._)("div",se,[oe,(0,t._)("h5",null,(0,o.zw)(ke.value)+"/"+(0,o.zw)(be.value.length),1)]),(0,t.Wm)(Ve,{vertical:""}),(0,t._)("div",ne,[ie,(0,t._)("h5",null,(0,o.zw)(be.value.length-ke.value),1)]),(0,t.Wm)(Ve,{vertical:""}),(0,t._)("div",ue,[re,(0,t._)("h5",null,(0,o.zw)((0,n.SU)(Se))+"%",1)])])),_:1})]),(0,t._)("div",de,[(0,t.Wm)(k,{class:"text-white",label:"Share",style:{background:"#25d366"},onClick:je},{default:(0,t.w5)((()=>[ce])),_:1})]),(0,t.Wm)(S.Z,{title:"Info",desc:"This graph contains all the student with their SPGAs,\n                            Tap on any point to know more"}),(0,t._)("div",{style:{"overflow-x":"auto","border-radius":"25px",margin:"20px 0px"},class:(0,o.C_)((0,n.SU)(Ue).dark.isActive?"bg-dark":"bg-white")},[(0,t.Wm)(Ge,{modelValue:d.value,"onUpdate:modelValue":p[4]||(p[4]=e=>d.value=e),"indicator-color":"primary",class:(0,o.C_)(["text-primary rounded q-mt-md q-mx-lg",(0,n.SU)(Ue).dark.isActive?"bg-dark":"bg-white"])},{default:(0,t.w5)((()=>[(0,t.Wm)(Qe,{name:"sgpa",icon:"show_chart",label:"SGPA wise",style:(0,o.j5)((0,n.SU)(Ue).dark.isActive?"color:white":"")},null,8,["style"]),(0,t.Wm)(Qe,{name:"sub",icon:"book",label:"SUB wise",style:(0,o.j5)((0,n.SU)(Ue).dark.isActive?"color:white":"")},null,8,["style"])])),_:1},8,["modelValue","class"]),(0,t._)("div",me,[(0,t.Wm)(k,{icon:"zoom_out",flat:"",round:"",onClick:p[5]||(p[5]=e=>a.value-=100),disable:a.value<1300},null,8,["disable"]),(0,t.Uk)(" "+(0,o.zw)((0,n.SU)(We))+"% ",1),(0,t.Wm)(k,{icon:"zoom_in",flat:"",round:"",onClick:p[6]||(p[6]=e=>a.value+=100),disable:a.value>5e3},null,8,["disable"])]),(0,t.Wm)(Be,{modelValue:d.value,"onUpdate:modelValue":p[8]||(p[8]=e=>d.value=e),animated:"",class:"q-mb-xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(Re,{name:"sgpa",class:"rounded",style:{padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Pe,{horizontal:"",style:(0,o.j5)([{height:"500px"},((0,n.SU)(Ue).screen.lt.md,"")]),"thumb-style":{bottom:"4px",borderRadius:"5px",background:"#b0b8b4ff",width:"10px",opacity:1}},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,n.SU)(f()),{width:(0,n.SU)(We),height:"400",type:"line",options:b.value,series:C.value,key:C.value},null,8,["width","options","series"]))])),_:1},8,["style"])])),_:1}),(0,t.Wm)(Re,{name:"sub",class:"rounded",style:{padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Fe,{options:we.value,modelValue:xe.value,"onUpdate:modelValue":[p[7]||(p[7]=e=>xe.value=e),Te],label:"Select sub",class:"q-my-md q-px-lg"},null,8,["options","modelValue"]),(0,t.Wm)(Pe,{horizontal:"",style:(0,o.j5)([{height:"500px"},(0,n.SU)(Ue).screen.lt.md?"":"height:700px"]),"thumb-style":{bottom:"4px",borderRadius:"5px",background:"#b0b8b4ff",width:"10px",opacity:1}},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(f()),{ref_key:"subChartRef",ref:_,width:(0,n.SU)(We),height:"400",type:"line",options:x.value,series:H.value},null,8,["width","options","series"])])),_:1},8,["style"])])),_:1})])),_:1},8,["modelValue"])],2),(0,t.Wm)(S.Z,{title:"Important",desc:"Students who are failed even in 1 subject wont be plotted!"}),(0,t.Wm)(A,{class:"sgpa-container q-pa-md rounded glass",flat:""},{default:(0,t.w5)((()=>[(0,t._)("div",pe,[ve,(0,t._)("div",he,[(0,t.Wm)(k,{flat:"",label:"XLSX file",icon:"download",onClick:De,style:{background:"#25d366"}})])])])),_:1})])):((0,t.wg)(),(0,t.iD)("div",ge,[(0,t.Wm)(Ee,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{width:"400px",src:m(),style:{filter:"drop-shadow(0px 0px 6px yellow)"}})])),_:1}),fe]))]),(0,t.Wm)(q.Z)])}}};var we=a(4260),xe=a(4027),ye=a(4842),_e=a(1391),ke=a(9721),Se=a(4615),Ue=a(151),qe=a(5589),We=a(8240),Ce=a(6394),Ae=a(5869),He=a(6296),ze=a(7547),Ze=a(3269),Ve=a(5906),je=a(6602),Qe=a(7704),Te=a(3314),Ie=a(8218),De=a(7518),Ge=a.n(De);const Pe=(0,we.Z)(be,[["__scopeId","data-v-5196c1c3"]]),Re=Pe;Ge()(be,"components",{QImg:xe.Z,QInput:ye.Z,QRange:_e.Z,QBadge:ke.Z,QExpansionItem:Se.Z,QCard:Ue.Z,QCardSection:qe.Z,QBtn:We.Z,QSpinnerGears:Ce.Z,QSeparator:Ae.Z,QKnob:He.Z,QTabs:ze.Z,QTab:Ze.Z,QTabPanels:Ve.Z,QTabPanel:je.Z,QScrollArea:Qe.Z,QSelect:Te.Z,QIntersection:Ie.Z})},7829:(e,l,a)=>{e.exports=a.p+"img/loading-head.bfba643f.gif"},5382:()=>{},2095:()=>{},1219:()=>{}}]);
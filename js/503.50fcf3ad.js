"use strict";(self["webpackChunkjntua_aesult_analyser"]=self["webpackChunkjntua_aesult_analyser"]||[]).push([[503],{8503:(e,a,t)=>{t.r(a),t.d(a,{default:()=>F});var s=t(3673),l=t(2323),r=t(1959),o=t(8825),i=t(2585),c=t.n(i);const d={props:["number"],setup(e){const a=e,t=(0,r.iH)(a.number);(0,s.bv)((()=>{o(),console.log(a.number)}));const o=async()=>{console.log("okay");let e=1;while(1)await i(3e3),t.value++,e=7e3*Math.random()};function i(e){return new Promise((a=>setTimeout(a,e)))}return(e,a)=>((0,s.wg)(),(0,s.iD)("div",null,(0,l.zw)(t.value),1))}},n=d,u=n;var v=t(52),h=t.n(v),m=t(5636),p=t.n(m);t(2707);const g={class:"leaderboards"},w={class:"flex flex-center"},b={class:"col-8"},k={class:"text-h4 text-center"},y=(0,s._)("div",{class:"col-4"},[(0,s._)("span",{class:"row text-caption"},"total"),(0,s._)("span",{class:"row text-caption"},"searches")],-1),_=(0,s._)("div",{class:"text-h4 q-mt-lg q-ml-lg"},"🏆Leaderboards",-1),x={class:"text-body1 q-ma-md"},f=(0,s._)("i",{class:"fas fa-crown",style:{color:"gold"}},null,-1),q={class:"text-body1 q-ma-md"},A=(0,s._)("i",{class:"fas fa-crown",style:{color:"silver"}},null,-1),H={class:"text-body1 q-ma-md"},C=(0,s._)("i",{class:"fas fa-crown",style:{color:"brown"}},null,-1),z=(0,s._)("div",{class:"text-center text-h6 q-ma-md"}," College code (Searches count) ",-1),S={class:"q-pa-md text-right text-grey-6"},U=(0,s._)("div",{class:"text-h5"},"searches per day",-1),j={setup(e){const a=(0,r.iH)([]),t=(0,r.iH)(0),i=(0,r.iH)(0),d=(0,r.iH)(0),n=((0,r.iH)(null),(0,r.iH)(1e3),(0,r.iH)(null)),v=((0,r.iH)(null),(0,r.iH)(1e3)),m=(0,r.iH)({}),j=(0,r.iH)([]),N=(0,r.iH)({chart:{id:"vuechart-example",background:"transparent",stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0}}}),P=(0,r.iH)([]),Z=(0,o.Z)();(0,s.Fl)((()=>d.value.toFixed(0)));return(0,s.YP)((()=>Z.dark.isActive),(e=>{console.log(Z.dark.isActive),m.value={...m.value,theme:{mode:Z.dark.isActive?"dark":""}},N.value={...N.value,theme:{mode:Z.dark.isActive?"dark":""}}})),(0,s.bv)((()=>{h().get(p().stats).then((e=>{a.value=e.data.topColleges,i.value=e.data.totalSearches,t.value=e.data.searches.length;const s=[],l=[];e.data.searches.map(((e,a)=>{a>=30||(s.push(`${e["_id"]} (${e["total"]})`),l.push(e["total"]))})),m.value={labels:s},j.value=l;const r=[],o=[];e.data.searchesArr.map(((e,a)=>{r.push(e["date"].slice(5,10)),o.push(e["searchCount"])})),N.value={xaxis:{categories:r}},P.value=[{name:"searches this day",data:o}]})).catch((e=>{console.log(e)}))})),(e,o)=>{const d=(0,s.up)("q-scroll-area"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,{padding:"",class:"container flex flex-center"},{default:(0,s.w5)((()=>[(0,s._)("div",g,[(0,s._)("div",w,[(0,s._)("div",{class:(0,l.C_)(["q-my-md q-py-md row rounded search-count-container",(0,r.SU)(Z).dark.isActive?"bg-dark":"bg-white"]),style:{width:"60%"}},[(0,s._)("div",b,[(0,s._)("div",k,[i.value?((0,s.wg)(),(0,s.j4)(u,{key:0,number:i.value},null,8,["number"])):(0,s.kq)("",!0)])]),y],2)]),a.value.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)(["q-my-md q-pa-md rounded",(0,r.SU)(Z).dark.isActive?"bg-dark":"bg-white"])},[_,(0,s._)("div",x,[f,(0,s.Uk)(" "+(0,l.zw)(a.value[0].collegeCode)+" - "+(0,l.zw)(a.value[0].collegeName)+"("+(0,l.zw)(a.value[0].district)+") ",1)]),(0,s._)("div",q,[A,(0,s.Uk)(" "+(0,l.zw)(a.value[1].collegeCode)+" - "+(0,l.zw)(a.value[1].collegeName)+"("+(0,l.zw)(a.value[1].district)+") ",1)]),(0,s._)("div",H,[C,(0,s.Uk)(" "+(0,l.zw)(a.value[2].collegeCode)+" - "+(0,l.zw)(a.value[2].collegeName)+"("+(0,l.zw)(a.value[2].district)+") ",1)])],2)):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,l.C_)(["q-my-md q-py-md rounded pie-container",(0,r.SU)(Z).dark.isActive?"bg-dark":"bg-white"])},[z,((0,s.wg)(),(0,s.j4)((0,r.SU)(c()),{key:(0,r.SU)(Z).dark.isActive,ref:"charts",width:"100%",height:"350",type:"donut",options:m.value,series:j.value},null,8,["options","series"])),(0,s._)("div",S," *Note: Only top 30 colleges out of "+(0,l.zw)(t.value)+" are shown ",1)],2),(0,s._)("div",{class:(0,l.C_)(["flex column rounded q-pa-md q-my-md searches-container",(0,r.SU)(Z).dark.isActive?"bg-dark":"bg-white"]),style:{"border-radius":"20px"}},[U,(0,s.Wm)(d,{ref_key:"scrollArea",ref:n,horizontal:"",style:(0,l.j5)([{height:"400px"},(0,r.SU)(Z).screen.lt.md?"":"height:400px"]),"thumb-style":{bottom:"4px",borderRadius:"5px",background:"#b0b8b4ff",width:"10px",opacity:1}},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,r.SU)(c()),{key:(0,r.SU)(Z).dark.isActive,ref:"charts",width:`${v.value}px`,height:"350",type:"area",options:N.value,series:P.value},null,8,["width","options","series"]))])),_:1},8,["style"])],2)])),_:1})}}};var N=t(4379),P=t(7704),Z=t(7518),$=t.n(Z);const D=j,F=D;$()(j,"components",{QPage:N.Z,QScrollArea:P.Z})}}]);
"use strict";(self["webpackChunkjntua_aesult_analyser"]=self["webpackChunkjntua_aesult_analyser"]||[]).push([[201],{5126:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Ve});l(71);var t=l(3673),s=l(2323),o=l(1959),r=l(6823),u=l.n(r),i=l(8825),n=l(3640),d=l(52),c=l.n(d),m=l(5636),v=l.n(m),p=l(2585),g=l.n(p),w=l(3649),h=l(2707);const b={style:{display:"flex","flex-direction":"row-reverse"}},y={props:{modelValue:Object},emits:["update:modelValue","success"],setup(e,{emit:a}){const l=e,r=(0,o.iH)(""),u=(0,o.iH)(""),i=(0,o.iH)({}),n=(0,o.iH)([]),d=(0,o.iH)([]);(0,t.bv)((()=>{m()}));const m=()=>{c().get(v().releasedResults).then((async e=>{i.value=e.data,n.value=Object.keys(e.data),Object.keys(i.value).length>0?(await y(150),r.value=l.modelValue.reg,g("reg",localStorage.getItem("reg")),await y(150),u.value=l.modelValue.course,g("course",localStorage.getItem("course")),await y(150)):k()}))},p=e=>{"reg"==e&&(u.value="")},g=(e,l)=>{p(e),h(e,l),null!=l&&("reg"==e?(r.value=l,d.value=Object.keys(i.value[r.value])):"course"==e&&(u.value=l,f(),a("success")),f())},w=()=>{localStorage.setItem("reg",""),localStorage.setItem("course",""),r.value="",u.value=""},h=(e,a)=>{void 0!=a&&localStorage.setItem(e,a)},y=e=>new Promise((a=>{setTimeout((()=>a()),e)})),k=async()=>{localStorage.getItem("reg")&&(r.value=localStorage.getItem("reg"),await y(150),g("reg",localStorage.getItem("reg"))),localStorage.getItem("course")&&(u=localStorage.getItem("course"),await this.sleep(150),g("course",localStorage.getItem("course")))},f=()=>{a("update:modelValue",{reg:r.value,course:u.value,yearSemObj:i.value[r.value][u.value]})};return(e,a)=>{const l=(0,t.up)("q-btn"),o=(0,t.up)("q-select");return(0,t.wg)(),(0,t.iD)("div",{class:(0,s.C_)(["flex column rounded q-pa-lg glass",e.$q.dark.isActive?"bg-dark":"bg-white"])},[(0,t._)("div",b,[(0,t.Wm)(l,{dense:"",flat:"",style:{width:"130px"},icon:"close",label:"clear all",onClick:w})]),(0,t.Wm)(o,{color:e.$q.dark.isActive?"white":"primary",filled:"",modelValue:r.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>r.value=e),a[1]||(a[1]=e=>g("reg",r.value))],options:n.value,outlined:"",label:"Regulation/Curriculum",clearable:""},null,8,["color","modelValue","options"]),(0,t.Wm)(o,{color:e.$q.dark.isActive?"white":"primary",filled:"",modelValue:u.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>u.value=e),a[3]||(a[3]=e=>g("course",u.value))],options:d.value,outlined:"",label:"Course",clearable:"",disable:!r.value},null,8,["color","modelValue","options","disable"])],2)}}};var k=l(8240),f=l(3314),x=l(7518),_=l.n(x);const q=y,S=q;_()(y,"components",{QBtn:k.Z,QSelect:f.Z});const W={class:""},U={class:"text-center",style:{"font-size":"1.3rem"}};function C(e,a,l,o,r,u){const i=(0,t.up)("q-knob"),n=(0,t.up)("q-card");return(0,t.wg)(),(0,t.iD)("div",W,[(0,t.Wm)(n,{class:(0,s.C_)(["card rounded bg-gray",e.$q.dark.isActive?"bg-dark":"bg-white"]),style:(0,s.j5)(l.active?"border: 5px solid #ff4d01;":""),flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"q-ma-md",style:(0,s.j5)(u.knobStyle),readonly:"",modelValue:r.sgpaNumber,"onUpdate:modelValue":a[0]||(a[0]=e=>r.sgpaNumber=e),"show-value":"",size:"90px",thickness:.22,max:10,color:"green","track-color":"grey-3"},null,8,["style","modelValue","thickness"]),(0,t._)("div",U,(0,s.zw)(l.year)+"-"+(0,s.zw)(l.sem),1)])),_:1},8,["class","style"])])}const j={props:["sgpa","year","sem","active"],data(){return{sgpaNumber:this.sgpa}},computed:{knobStyle(){return`filter: drop-shadow(0 0 0.5rem ${this.sgpaNumber>0?"green":"red"});`}}};var V=l(4260),z=l(151),H=l(6296);const A=(0,V.Z)(j,[["render",C],["__scopeId","data-v-4540e048"]]),D=A;_()(j,"components",{QCard:z.Z,QKnob:H.Z});var Z=l(5278);const Q={class:"container"},I={style:{display:"flex","justify-content":"center"}},N={style:{width:"100vw","max-width":"1000px"}},T={class:"flex no-wrap row justify-evenly items-center"},O={class:"flex justify-center"},P={class:"text-h5 text-center"},G={key:0,class:"text-center text-caption"},B={key:1},R={class:"row"},$={class:"col flex column items-center"},E=(0,t._)("div",null,"CGPA",-1),F={class:"col flex column items-center"},K=(0,t._)("div",null,"percentage",-1),Y=(0,t._)("div",{class:"text-center text-caption text-grey-8"},[(0,t.Uk)(" Based on available data "),(0,t._)("br"),(0,t.Uk)(" (*may not be accurate) ")],-1),M={key:2},L=(0,t._)("div",{class:"text-center text-caption text-grey-8"}," Clear your backlogs to get CGPA and percentage ",-1),J=[L],X={key:3,class:"flex flex-center",style:{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",background:"rgba(200, 0, 0, 0.5)","border-radius":"20px"}},ee={key:1,class:"text-h5 text-center"},ae={class:"row"},le=["onClick"],te={key:2,class:"data-container q-mb-xl"},se={key:0,style:{"font-size":"22px"}},oe={key:1},re={key:0,class:"text-right text-grey-6"},ue=(0,t.Uk)(" *Note not including zero cred subs. "),ie={key:0,class:"text-right text-grey-6"},ne=(0,t.Uk)(" *Note not including zero cred subs. "),de={key:0,class:"text-right text-grey-6"},ce=(0,t.Uk)(" *Note not including zero cred subs. "),me={key:3,class:"data-container flex flex-center text-h4 text-center text-grey q-mb-xl"},ve=(0,t.Uk)("Looks so empty here "),pe={setup(e){const a=(0,t.Fl)((()=>`filter: drop-shadow(0 0 0.5rem ${p.value>0?"green":"red"});`)),l=(0,o.iH)({}),r=(0,o.iH)(!1),d=(0,o.iH)("19fh1a0546"),m=(0,o.iH)({}),p=(0,o.iH)(0),b=(0,o.iH)(0),y=(0,o.iH)(""),k=(0,o.iH)("radar"),f=(0,o.iH)({chart:{id:"vuechart-example"},xaxis:{},yaxis:{min:0,max:10}}),x=(0,o.iH)([]),_=[{name:"subject_name",align:"left",label:"Subject",field:"subject_name",sortable:!0},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"marks",align:"center",label:"Marks (Ext+Int)",field:"marks",sortable:!0},{name:"grade",align:"center",label:"Grade(pts)",field:"grade",sortable:!0},{name:"credit",align:"center",label:"Credits",field:"credit",sortable:!0},{name:"month",align:"center",label:"Month",field:"month",sortable:!0}],q=(0,o.iH)([]),W=(0,o.iH)(0),U=(0,o.iH)([]),C=(0,o.iH)(!1),j=(0,o.iH)(!1),V=(0,o.iH)([]),z={sortBy:"name",descending:!1,page:0,rowsPerPage:0},H={S:10,O:10,A:9,B:8,C:7,D:6,E:5,F:0,AB:0,Y:0},A=(0,i.Z)(),L=()=>{r.value=!0,ke()},pe=()=>{ke()},ge=(0,o.iH)(0),we=(0,o.iH)(!1),he=()=>{we.value=!we.value},be=(0,t.Fl)((()=>{if(b<=0&&p<=0)return!1;if(ge.value||C.value)return!1;let e=!1;return q.value.forEach((a=>{a.sgpa>0||(e=!0)})),!e})),ye=e=>{if(j.value)return void A.notify({type:"warning",message:"calm down bro chill!😤"});j.value=!0,setTimeout((()=>{j.value=!1}),500);let a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];if(a.includes(d.value[d.value.length-2])){for(l="",t=0;t<8;t++)l+=d.value[t];let s=d.value[8],o=parseInt(d.value[9]);o+=e,"a"==s.toLowerCase()&&o<0&&(s="9",o=9),o>=10?s=a[a.indexOf(s)+1]:o<0&&(o=9,s=a[a.indexOf(s)-1]),d.value=l+s+Math.abs(o%10)}else{for(var l="",t=0;t<8;t++)l+=d.value[t];for(var s="",t=8;t<d.value.length;t++)s+=d.value[t];if(s=parseInt(s),s+=e,s<1)return void A.notify({message:"Bound reached",type:"info"});if(s>=100)return void(d=l+"a0");d.value=l+(s<10?`0${s}`:s)}ke()},ke=()=>{(0,n.B)("search",{method:"history",roll:d.value});V.value=[],ge.value=0,q.value=[],C.value=!1;const e=[];Object.keys(m.value.yearSemObj).forEach((a=>{Object.keys(m.value.yearSemObj[a]).forEach((l=>{"null"!=l&&e.push(c().get(v().singleResultv2+"/"+d.value+"/"+m.value.reg+"/"+m.value.course+"/"+a+"/"+l))}))})),console.log(e),Promise.all(e).then((e=>{console.log(e),q.value=[],e&&A.notify({type:"positive",message:`${e.length} result retrieved 👀`});for(let a=0;a<e.length;a++){if(void 0==e[a].data.attempts)continue;y.value=e[a].data.name;const l=(0,w.getBestAttempts)(e[a].data.attempts);l.forEach((e=>{(e["Result Status"]?"F"===e["Result Status"].toUpperCase():"F"===e["Status"].toUpperCase())&&ge.value++}));const{sgpa:t,sem:s,year:o}=e[a].data;q.value.push({sgpa:t,sem:s,year:o,bestAttempt:l})}0==q.value.length&&(y.value="NA"),console.log(q),fe(0),b.value=0,q.value.forEach((e=>{b.value+=e.sgpa})),b.value=Number((b.value/q.value.length).toFixed(2)),p.value=Number((10*(b.value-.5)).toFixed(2))})).catch((e=>console.log(e)))},fe=e=>{W.value=e;const a=[],t=[];V.value=[],U.value=[],void 0!=q.value[0]&&(q.value[e].bestAttempt.forEach((e=>{V.value.push({subject_name:(0,w.getShort)(e["Subject Name"]),status:"P"==e["Result Status"]?"✔":"❌",grade:e["Grade"]+" ("+H[e["Grade"]]+")",internals:e["Internals"],externals:e["Externals"],total:e["Total Marks"],credit:e["Credits"],month:e["month"]}),"Y"!=e["Grade"].toUpperCase()?(a.push(`${(0,w.getShort)(e["Subject Name"])} (${e["Grade"]})`),t.push(H[e["Grade"]])):U.value.push(e["Subject Name"])})),console.log(V.value),l.value={labels:a,datasets:[{label:y.value,data:t,backgroundColor:h.backgroundColors[1],borderColor:h.borderColors[1],borderWidth:1}]},f.value.xaxis.categories=a,x.value=[{name:y.value,data:t}],console.log(f.value),console.log(x.value))};return(e,i)=>{const n=(0,t.up)("q-icon"),c=(0,t.up)("q-input"),v=(0,t.up)("q-btn"),w=(0,t.up)("q-knob"),h=(0,t.up)("q-card"),j=(0,t.up)("q-td"),H=(0,t.up)("q-chip"),ke=(0,t.up)("q-tr"),xe=(0,t.up)("q-table"),_e=(0,t.up)("q-tab"),qe=(0,t.up)("q-tabs"),Se=(0,t.up)("q-tab-panel"),We=(0,t.up)("q-tab-panels"),Ue=(0,t.up)("q-img"),Ce=(0,t.up)("q-intersection"),je=(0,t.up)("q-scroll-area"),Ve=(0,t.Q2)("touch-hold");return(0,t.wg)(),(0,t.iD)("div",Q,[(0,t.Wm)(je,{ref:"scrollArea",vertical:"",style:{height:"90vh",width:"100vw"},"thumb-style":{bottom:"4px",borderRadius:"5px",background:"#ff4d01",width:"10px",opacity:.5}},{default:(0,t.w5)((()=>[(0,t._)("div",I,[(0,t._)("div",N,[(0,t.Wm)(S,{class:"q-my-md q-mx-sm",modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=e=>m.value=e),onSuccess:L},null,8,["modelValue"]),(0,t._)("div",{class:(0,s.C_)(["roll-input q-pa-lg q-my-md q-mx-sm rounded",(0,o.SU)(A).dark.isActive?"bg-dark":"bg-white"])},[(0,t._)("div",T,[(0,t.Wm)(n,{name:"arrow_back_ios_new",style:{"font-size":"3em"},disabled:!l.value.datasets,onClick:i[1]||(i[1]=e=>ye(-1))},null,8,["disabled"]),(0,t.Wm)(c,{filled:"",label:"Roll Number",color:(0,o.SU)(A).dark.isActive?"white":"primary",modelValue:d.value,"onUpdate:modelValue":i[2]||(i[2]=e=>d.value=e)},null,8,["color","modelValue"]),(0,t.Wm)(n,{name:"arrow_forward_ios",style:{"font-size":"3em"},disabled:!l.value.datasets,onClick:i[3]||(i[3]=e=>ye(1))},null,8,["disabled"])]),(0,t._)("div",O,[(0,t.Wm)(v,{style:{width:"fit-content"},class:"q-mt-sm",label:"Submit",color:"primary",disable:!r.value,onClick:i[4]||(i[4]=e=>pe())},null,8,["disable"])])],2),q.value.length?((0,t.wg)(),(0,t.j4)(h,{key:0,class:"relative q-mx-xl q-my-md q-pa-lg rounded flex column flex-center",flat:""},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",P,[(0,t.Uk)((0,s.zw)(y.value),1)])),[[Ve,he]]),we.value?((0,t.wg)(),(0,t.iD)("div",G," backlogs: "+(0,s.zw)(ge.value),1)):(0,t.kq)("",!0),(0,o.SU)(be)?((0,t.wg)(),(0,t.iD)("div",B,[(0,t._)("div",R,[(0,t._)("div",$,[(0,t.Wm)(w,{modelValue:b.value,"onUpdate:modelValue":i[5]||(i[5]=e=>b.value=e),color:(0,o.SU)(A).dark.isActive?"white":"primary",size:"150",thickness:.2,readonly:!0,label:"CGPA",class:"q-ma-md",style:(0,s.j5)((0,o.SU)(a)),"show-value":"",max:10},null,8,["modelValue","color","thickness","style"]),E]),(0,t._)("div",F,[(0,t.Wm)(w,{modelValue:p.value,"onUpdate:modelValue":i[6]||(i[6]=e=>p.value=e),color:(0,o.SU)(A).dark.isActive?"white":"primary",size:"150",thickness:.2,readonly:!0,label:"CGPA",class:"q-ma-md",style:(0,s.j5)((0,o.SU)(a)),"show-value":"",max:100},null,8,["modelValue","color","thickness","style"]),K])]),Y])):((0,t.wg)(),(0,t.iD)("div",M,J)),C.value?((0,t.wg)(),(0,t.iD)("div",X,[(0,t.Wm)(n,{size:"xl",color:"white",name:"block"})])):(0,t.kq)("",!0)])),_:1})):(0,t.kq)("",!0),l.value.datasets?((0,t.wg)(),(0,t.iD)("div",ee,"SGPA's")):(0,t.kq)("",!0),(0,t._)("div",ae,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(q.value,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"col-4 flex flex-center q-my-md rounded",style:{"flex-basis":"50%",width:"25%"},flat:"",key:a+d.value,onClick:e=>fe(a)},[(0,t.Wm)(D,{sgpa:e.sgpa,year:e.year,sem:e.sem,active:a==W.value},null,8,["sgpa","year","sem","active"])],8,le)))),128))]),l.value.datasets?((0,t.wg)(),(0,t.iD)("div",te,[(0,t._)("div",null,[(0,t.Wm)(Z.Z,{title:"Tip 1",desc:"Click on the column name to sort the rows accordingly"}),(0,t.Wm)(xe,{title:"Result Table",class:"q-pt-md",rows:V.value,columns:_,"hide-bottom":!0,pagination:z},{body:(0,t.w5)((e=>[(0,t.Wm)(ke,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{dense:"","auto-width":"",key:"subject_name",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.subject_name),1)])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"status",props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{"auto-width":"",size:"md",color:"✔"==e.row.status?"positive":"negative",class:"text-white q-pa-xm"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.status),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"marks",props:e},{default:(0,t.w5)((()=>[e.row.total?((0,t.wg)(),(0,t.iD)("div",oe,(0,s.zw)(e.row.total)+" ("+(0,s.zw)(e.row.externals)+" + "+(0,s.zw)(e.row.internals)+") ",1)):((0,t.wg)(),(0,t.iD)("div",se," 🤷‍♀️ "))])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"grade",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.grade),1)])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"points",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.points),1)])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"credit",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.credit),1)])),_:2},1032,["props"]),(0,t.Wm)(j,{dense:"","auto-width":"",key:"month",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.month),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,t.Wm)(Z.Z,{title:"Tip 2",desc:"Here you can choose from various charts like radar,\n        line and bar. Also you can tap on any point inside chart to know more"}),(0,t.Wm)(qe,{modelValue:k.value,"onUpdate:modelValue":i[7]||(i[7]=e=>k.value=e),"indicator-color":"primary",class:(0,s.C_)(["text-primary rounded q-my-md q-mx-lg",(0,o.SU)(A).dark.isActive?"bg-dark":"bg-white"])},{default:(0,t.w5)((()=>[(0,t.Wm)(_e,{name:"radar",icon:"radar",label:"Radar",style:(0,s.j5)((0,o.SU)(A).dark.isActive?"color:white":"")},null,8,["style"]),(0,t.Wm)(_e,{name:"line",icon:"show_chart",label:"Line",style:(0,s.j5)((0,o.SU)(A).dark.isActive?"color:white":"")},null,8,["style"]),(0,t.Wm)(_e,{name:"bar",icon:"bar_chart",label:"Bar",style:(0,s.j5)((0,o.SU)(A).dark.isActive?"color:white":"")},null,8,["style"])])),_:1},8,["modelValue","class"]),(0,t.Wm)(We,{modelValue:k.value,"onUpdate:modelValue":i[8]||(i[8]=e=>k.value=e),animated:"",class:"q-mb-xl shadow-2 rounded"},{default:(0,t.w5)((()=>[(0,t.Wm)(Se,{name:"radar",class:"rounded"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(k.value)+" ",1),(0,t.Wm)((0,o.SU)(g()),{width:"100%",height:"350",type:k.value,options:f.value,series:x.value},null,8,["type","options","series"]),U.value.length>0?((0,t.wg)(),(0,t.iD)("div",re,[ue,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"q-px-md text-right text-white"},(0,s.zw)(e),1)))),128))])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(Se,{name:"line",class:"flex flex-center flex-row"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(g()),{width:"100%",height:"350",type:k.value,options:f.value,series:x.value},null,8,["type","options","series"]),U.value.length>0?((0,t.wg)(),(0,t.iD)("div",ie,[ne,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"q-px-md text-right text-white"},(0,s.zw)(e),1)))),128))])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(Se,{name:"bar"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(g()),{width:"100%",height:"350",type:k.value,options:f.value,series:x.value},null,8,["type","options","series"]),U.value.length>0?((0,t.wg)(),(0,t.iD)("div",de,[ce,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"q-px-md text-right text-white"},(0,s.zw)(e),1)))),128))])):(0,t.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",me,[(0,t.Wm)(Ce,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Ue,{width:"400px",src:u(),style:{filter:"drop-shadow(0px 0px 4px yellow)"}})])),_:1}),ve]))])])])),_:1},8,["thumb-style"])])}}};var ge=l(7704),we=l(4554),he=l(4842),be=l(6429),ye=l(8186),ke=l(3884),fe=l(7030),xe=l(7547),_e=l(3269),qe=l(5906),Se=l(6602),We=l(8218),Ue=l(4027),Ce=l(7281);const je=pe,Ve=je;_()(pe,"components",{QScrollArea:ge.Z,QIcon:we.Z,QInput:he.Z,QBtn:k.Z,QCard:z.Z,QKnob:H.Z,QTable:be.Z,QTr:ye.Z,QTd:ke.Z,QChip:fe.Z,QTabs:xe.Z,QTab:_e.Z,QTabPanels:qe.Z,QTabPanel:Se.Z,QIntersection:We.Z,QImg:Ue.Z}),_()(pe,"directives",{TouchHold:Ce.Z})}}]);
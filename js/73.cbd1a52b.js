"use strict";(self["webpackChunkjntua_aesult_analyser"]=self["webpackChunkjntua_aesult_analyser"]||[]).push([[73],{9041:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ae});a(71);var t=a(3673),s=a(2323),o=a(1959),r=a(8880),n=a(8813),u=a.n(n),i=a(6823),c=a.n(i),d=a(9582),m=a(8825),v=a(3640),g=a(2585),p=a.n(g),h=a(52),b=a.n(h),y=a(3649),w=a(5112),f=a.n(w),x=a(2707),k=a(9296),q=a(2704),_=a(5278),W=a(5636),C=a.n(W);const H={class:"container"},S={class:"wrapper"},U={class:"flex flex-center"},D={class:"flex flex-center"},Z={class:"flex flex-center"},V={key:0,class:"data-container q-mb-xl"},j={class:"flex flex-center"},I={class:"text-center"},T={class:"text-grey",style:{"max-width":"150px","font-size":"1.1em","word-break":"break-word"}},A={style:{display:"flex","justify-content":"center"}},Q=(0,t._)("img",{width:"50px",src:u()},null,-1),z={key:0,class:"text-right text-grey-6"},R=(0,t.Uk)(" *Note not including zero cred subs. "),B={key:1,class:"data-container flex flex-center text-h4 text-center text-grey q-mb-xl"},N=(0,t.Uk)("Looks so empty here "),K={setup(e){const l=(0,o.iH)({}),a=(0,o.iH)([]),n=(0,o.iH)(!1),u=(0,o.iH)([]),i=(0,o.iH)([]),g=(0,o.iH)([]),h=(0,o.iH)("radar"),w=(0,o.iH)({chart:{id:"vuechart-example"},xaxis:{},yaxis:{min:0,max:10}}),W=(0,o.iH)([]),K=(0,o.iH)([]),L=(0,o.iH)([]),Y=(0,o.iH)(!1),P=(0,o.iH)({reg:"",course:"",year:"",sem:""}),$=(0,d.yj)(),E=(0,m.Z)();(0,t.bv)((()=>{F()}));const F=()=>{console.log($.query),console.log(Object.keys($.query).includes("reg")),Object.keys($.query).includes("reg")?(console.log(window.location),a.value=$.query.rollList.split(","),resultID.value=$.query.resultID,console.log(a.value,resultID.value),n.value=!0,selectionInput.value=$.query,P.value=$.query,te()):J()},G=()=>{a.value.push(a.value[0].slice(0,-2)),setTimeout((()=>{$refs.rollInput.slice(-1)[0].focus()})),console.log("added new roll"),n.value=!1},M=e=>{a.value.splice(e,1),n.value=!0},O=e=>10!=e.length?(E.notify({color:"negative",message:"Roll no length should be 10"}),n.value=!1,"Roll no length should be 10"):(n.value=!0,!0),J=()=>{for(let e=0;e<3;e++)a.value.push("19fh1a05"+X(60))},X=e=>{let l=Math.ceil(Math.random()*e),a="";return a=l<10?"0"+l:l,a},ee=()=>{n.value=!0},le=()=>{navigator.share&&navigator.share({title:"Hey I compared our results on this cool webApp!",url:window.location.origin+window.location.pathname+"#/compare-result?reg="+P.value.reg+"&course="+P.value.course+"&sem="+P.value.sem+"&year="+P.value.year+"&rollList="+rollNo.value.toString()}).then((()=>{ae(),console.log("Thanks for sharing!"),E.notify({type:"positive",message:"Thanks for sharing this page! 😀😁"})})).catch(console.error)},ae=()=>{b().post(C().share,{type:"compare",htns:a.value,resultID:resultID.value})},te=async()=>{if((0,v.B)("search",{method:"compare",roll:a.value}),g.value=[],n.value){oe();try{const l=a.value.map((e=>b().get(C().singleResultv2+"/"+e+"/"+P.value.reg+"/"+P.value.course+"/"+P.value.year+"/"+P.value.sem))),t=await Promise.all(l);var e=[];console.log(t),t.forEach((l=>{if(200===l.status){E.notify({type:"positive",message:"Result retrieved"}),console.log("Best Attempt = "),e=[];const a=(0,y.getBestAttempts)(l.data.attempts);console.log(a),a.forEach((l=>{K.value.length<a.length&&K.value.push((0,y.getShort)(l["Subject Name"])),e.push(f()[l["Grade"]])}));let t=`(${l.data["htn"][l.data["htn"].length-2]}${l.data["htn"][l.data["htn"].length-1]})`;u.value.push(l.data["name"]),L.value.push({id:l.data["htn"],name:l.data["name"]+t,sgpa:Number.parseFloat(l.data["sgpa"])}),i.value.push({label:l.data["name"],data:e,backgroundColor:x.backgroundColors[0],borderColor:x.borderColors[0],borderWidth:1}),x.borderColors.splice(0,1),x.backgroundColors.splice(0,1),w.value.xaxis.categories=K.value,W.value.push({name:l.data.name,data:[...a.map((e=>f()[e.Grade]))]})}console.log(W.value)})),se(),setTimeout((()=>{window.scrollTo(0,740),console.log("scrolled")}),700)}catch(l){console.log(l),Y.value=!0,E.notify({type:"negative",message:"Result not found"})}}},se=()=>{l.value={labels:K.value,datasets:i.value}},oe=()=>{W.value=[],K.value=[],i.value=[],x.backgroundColors.value=["rgba(75, 192, 192, 0.2)","rgba(255, 159, 64, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 205, 86, 0.2)","rgba(54, 162, 235, 0.2)","rgb(255, 99, 132)","rgb(75, 192, 192)","rgb(255, 205, 86)","rgb(201, 203, 207)","rgb(54, 162, 235)"],x.borderColors.value=["rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(201, 203, 207)"],L.value=[]};return(e,l)=>{const u=(0,t.up)("q-btn"),d=(0,t.up)("q-input"),m=(0,t.up)("q-knob"),v=(0,t.up)("q-card"),b=(0,t.up)("q-tab"),y=(0,t.up)("q-tabs"),f=(0,t.up)("q-tab-panel"),x=(0,t.up)("q-tab-panels"),C=(0,t.up)("q-img");return(0,t.wg)(),(0,t.iD)("div",H,[(0,t._)("div",S,[(0,t.Wm)(k.Z,{modelValue:P.value,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e),class:"result-input",onSuccess:ee},null,8,["modelValue"]),(0,t._)("div",{class:(0,s.C_)(["roll-input q-pa-lg rounded",(0,o.SU)(E).dark.isActive?"bg-dark":"bg-white"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("div",U,[(0,t.Wm)(d,{filled:"",ref_for:!0,ref:"rollInput",label:"Roll Number",color:(0,o.SU)(E).dark.isActive?"white":"primary",rules:[e=>O(e)],modelValue:a.value[l],"onUpdate:modelValue":e=>a.value[l]=e},{append:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(u,{round:"",dense:"",flat:"",icon:"remove_circle",color:"negative",onClick:e=>M(l)},null,8,["onClick"]),[[r.F8,a.value.length>1]])])),_:2},1032,["color","rules","modelValue","onUpdate:modelValue"])])])))),128)),(0,t._)("div",D,[(0,t.Wm)(u,{icon:"add",round:"",class:"q-mt-sm",color:"primary",size:"md",onClick:G})]),(0,t._)("div",Z,[(0,t.Wm)(u,{label:"Search",class:"q-mt-lg",color:"primary",size:"md",disable:!n.value,onClick:l[1]||(l[1]=e=>te())},null,8,["disable"])])],2),i.value.length?((0,t.wg)(),(0,t.iD)("div",V,[(0,t._)("div",j,[(0,t.Wm)(v,{class:"q-pa-sm q-ma-md rounded glass",flat:"",style:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(L.value,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("div",I,[(0,t.Wm)(m,{readonly:"",value:e.sgpa,"show-value":"",size:"90px",label:"dsf",thickness:.22,max:10,color:"green","track-color":"grey-3",class:"q-ma-lg",style:{"margin-bottom":"4px"}},null,8,["value","thickness"]),(0,t._)("div",T,(0,s.zw)(e.name),1)])])))),128))])),_:1})]),(0,t.Wm)(r.uT,null,{default:(0,t.w5)((()=>[(0,t._)("div",A,[(0,t.Wm)(u,{class:"text-white",label:"Share",style:{background:"#25d366"},onClick:le},{default:(0,t.w5)((()=>[Q])),_:1})])])),_:1}),(0,t.Wm)(_.Z,{title:"Tip",desc:"You can click on any student's name label to remove them from the chart"}),(0,t.Wm)(y,{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value=e),"indicator-color":"primary",class:(0,s.C_)(["text-primary rounded q-mb-sm q-mx-lg",(0,o.SU)(E).dark.isActive?"bg-dark":"bg-white"])},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{style:(0,s.j5)((0,o.SU)(E).dark.isActive?"color:white":""),name:"radar",icon:"radar",label:"Radar"},null,8,["style"]),(0,t.Wm)(b,{style:(0,s.j5)((0,o.SU)(E).dark.isActive?"color:white":""),name:"line",icon:"show_chart",label:"Line"},null,8,["style"]),(0,t.Wm)(b,{style:(0,s.j5)((0,o.SU)(E).dark.isActive?"color:white":""),name:"bar",icon:"bar_chart",label:"Bar"},null,8,["style"])])),_:1},8,["modelValue","class"]),(0,t.Wm)(x,{modelValue:h.value,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value=e),animated:"",class:"q-mx-sm shadow-2 rounded"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"radar"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(p()),{width:"100%",height:"350",type:h.value,options:w.value,series:W.value},null,8,["type","options","series"]),g.value.length>0?((0,t.wg)(),(0,t.iD)("div",z,[R,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.value,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l,class:"q-px-md text-right text-white"},(0,s.zw)(e),1)))),128))])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(f,{name:"line",class:"flex flex-center flex-row"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(p()),{width:"100%",height:"350",type:"area",options:w.value,series:W.value},null,8,["options","series"])])),_:1}),(0,t.Wm)(f,{name:"bar"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(p()),{width:"100%",height:"350",type:h.value,options:w.value,series:W.value},null,8,["type","options","series"])])),_:1})])),_:1},8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",B,[(0,t.Wm)(C,{width:"400px",src:c(),style:{filter:"drop-shadow(0px 0px 6px yellow)"}}),N]))]),(0,t.Wm)(q.Z)])}}};var L=a(7704),Y=a(4842),P=a(8240),$=a(151),E=a(6296),F=a(7547),G=a(3269),M=a(5906),O=a(6602),J=a(4027),X=a(7518),ee=a.n(X);const le=K,ae=le;ee()(K,"components",{QScrollArea:L.Z,QInput:Y.Z,QBtn:P.Z,QCard:$.Z,QKnob:E.Z,QTabs:F.Z,QTab:G.Z,QTabPanels:M.Z,QTabPanel:O.Z,QImg:J.Z})}}]);